"use strict";var app=angular.module("gatling.io",["ngAnimate","ngCookies","ngResource","ngSanitize","ngTouch","ui.router","angulartics","angulartics.google.analytics","pascalprecht.translate"]);app.config(["$stateProvider","$urlRouterProvider","$translateProvider",function(a,b,c){a.state("index",{url:"/",templateUrl:"views/main.html",controller:"ConceptCtrl"}).state("docs",{url:"/docs",templateUrl:"views/docs.html"}).state("download",{url:"/download",templateUrl:"views/download.html"}).state("services",{url:"/services",templateUrl:"views/services.html"}).state("training",{url:"/services/training",templateUrl:"views/training.html"}).state("stories",{url:"/stories",templateUrl:"views/stories.html"}).state("story",{url:"/stories/:story.html",templateUrl:"views/stories/skeleton.html",controller:"StoryCtrl"}).state("story.detail",{templateUrl:function(a){return"/views/stories/"+a.story+".html"}}),b.otherwise("/"),c.useStaticFilesLoader({prefix:"../locales/",suffix:".json"}).preferredLanguage("en")}]);var MainCtrl=function(a,b,c,d){b.language="en",a.$on("$locationChangeSuccess",function(){b.location=c.path()}),b.changeLanguage=function(a){d.use(a),b.language=a},b.getLanguage=function(){return d.use()}};angular.module("gatling.io").controller("MainCtrl",["$rootScope","$scope","$location","$translate",MainCtrl]);var ConceptCtrl=function(a,b,c){b.carouselStep=0;var d=null;b.hardCarouselUpdate=function(a){d&&c.cancel(d),e(a)};var e=function(a){b.carouselStep=a;var c=-400+100*a;$("#main-carousel").css({left:c+"%"})};b.$on("$destroy",function(){d&&c.cancel(d)}),c(function(){!function(a,b,c){var d,e=a.getElementsByTagName(b)[0],f=/^http:/.test(a.location)?"http":"https";a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src=f+"://platform.twitter.com/widgets.js",e.parentNode.insertBefore(d,e))}(document,"script","twitter-wjs"),$(document).ready(function(){$("pre code").each(function(a,b){hljs.highlightBlock(b)})})},100),$("#main-carousel").css({left:"-400%"})};angular.module("gatling.io").controller("ConceptCtrl",["$rootScope","$scope","$timeout",ConceptCtrl]);var CodeCtrl=function(a,b){var c=$("#scala-code").html().trim(),d=c.split(/\r\n|\r|\n/).length;b.getNbLine=function(){return new Array(d)}};angular.module("gatling.io").controller("CodeCtrl",["$rootScope","$scope",CodeCtrl]);var StoryCtrl=function(a,b,c,d,e){var f=b.story;e.get("../../views/stories/stories.json").success(function(a){g(a.stories)});var g=function(b){for(var c=0;c<b.length;c++)f==b[c].url&&b.length>1&&(0==c?a.next=b[c+1]:c==b.length-1?a.previous=b[c-1]:(a.next=b[c+1],a.previous=b[c-1]))};a.onSwitchStory=function(a){void 0!=a&&(window.scrollTo(0,0),d.path("/stories/"+a+".html"))},c.transitionTo("story.detail",{story:b.story})};angular.module("gatling.io").controller("StoryCtrl",["$scope","$stateParams","$state","$location","$http",StoryCtrl]);